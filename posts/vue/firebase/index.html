<!doctype html><html lang><head>
<meta charset=utf-8>
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>How to setup Firebase Authentication with Vue Application - MB</title><meta name=description content="Vue firebase -------------------------------------">
<meta name=author content="Subhasis Maity">
<meta property="og:title" content="How to setup Firebase Authentication with Vue Application">
<meta property="og:description" content="Vue firebase -------------------------------------">
<meta property="og:type" content="article">
<meta property="og:url" content="https://minorblocker.com/posts/vue/firebase/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-05-01T21:54:00+05:30">
<meta property="article:modified_time" content="2022-05-01T21:54:00+05:30">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="How to setup Firebase Authentication with Vue Application">
<meta name=twitter:description content="Vue firebase -------------------------------------">
<link rel=stylesheet href=/style.min.8a93a1cd86a842cc65cdbb4240ee72cd9c0d3e1f888d40a56a73abb5616790a5878892963ed6f75a45e9417e670f03d9fa5ad6e0fd8bed1bc6df0a4def4cbf0b.css integrity="sha512-ipOhzYaoQsxlzbtCQO5yzZwNPh+IjUClanOrtWFnkKWHiJKWPtb3WkXpQX5nDwPZ+lrW4P2L7RvG3wpN70y/Cw==">
<script>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")</script>
<script defer src=/js/header.7a2a109ec3782c57bad0332b662f8a5f41765505936b69868eb8bd5241de9daf23c388e82ca1831f6d09935013dcb9f71bfa7face3975880c1076028b7b0a6e1.js integrity="sha512-eioQnsN4LFe60DMrZi+KX0F2VQWTa2mGjri9UkHena8jw4joLKGDH20Jk1AT3Ln3G/p/rOOXWIDBB2Aot7Cm4Q=="></script>
<script defer src=/js/zooming.6f103e36197400ebc24f38c2fbe29c0f3de23f4f42b3c1020f9b426d3b25cc453edb5cbf7060d3d0b9166b8fa40f47add4ca6ba6d32f0acb9126153d16b57f7c.js integrity="sha512-bxA+Nhl0AOvCTzjC++KcDz3iP09Cs8ECD5tCbTslzEU+21y/cGDT0LkWa4+kD0et1MprptMvCsuRJhU9FrV/fA=="></script>
<script defer src=/js/builtin-copy.56e07a74dd440b068ab36af35542ed8960865686c19fb809f38436877ac081570612cc8a913650b0c0e3073a336680c5df960e73bf7b1de83dc6aa996f2db858.js integrity="sha512-VuB6dN1ECwaKs2rzVULtiWCGVobBn7gJ84Q2h3rAgVcGEsyKkTZQsMDjBzozZoDF35YOc797Heg9xqqZby24WA=="></script>
<script defer src=/js/search-.970b477e828ea877d5f60fb1da94200d28b58d73d765d428c35aeab2f13bfcbe4563ab3054f6e8773ee6030cd4857bab065a6f848e8cf4f1e7b29c887d804423.js integrity="sha512-lwtHfoKOqHfV9g+x2pQgDSi1jXPXZdQow1rqsvE7/L5FY6swVPbodz7mAwzUhXurBlpvhI6M9PHnspyIfYBEIw=="></script>
</head><body>
<main><header>
<div class=brand>
<div id=sidebar_btn>
<svg id="menu_icon" width="26" height="26" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></svg>
</div><div>
<a href=/>MB</a>
</div></div><div class=toolbox>
<div id=theme_tool>
<svg id="dark_mode_btn" class="hidden toolbox-btn" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></svg>
<svg id="light_mode_btn" class="hidden toolbox-btn" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></svg>
</div><div id=search_tool>
<svg id="search_btn" class="toolbox-btn" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></svg><div id=search_menu_wrapper class=hidden>
<div id=search_menu>
<div id=search_menu_toolbar>
<div id=search_menu_input_wrapper>
<input id=search_menu_input type=text placeholder="Search Posts">
</div><div id=search_menu_close_btn>
<svg width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></svg>
</div></div><div id=search_menu_results>
</div></div></div></div></div></header><nav id=navbar class=pure-menu><ul class=pure-menu-list></ul></nav><div id=sidebar_canvas_overlay class=hidden></div><div id=sidebar class=close>
<ul></ul></div><h1 class=post-title>How to setup Firebase Authentication with Vue Application</h1><div id=content class=content-margin>
<details class=collapsible-menu-wrapper><summary class=collapsible-menu-type><span>Table of contents</span></summary><div class=collapsible-menu>
<nav id=TableOfContents>
<ul>
<li><a href=#introduction>Introduction</a></li><li><a href=#goals>Goals</a></li><li><a href=#design>Design</a></li><li><a href=#implementation>Implementation</a>
<ul>
<li><a href=#prepare-the-environment>Prepare the Environment</a></li><li><a href=#create-a-vue-project>Create a Vue project</a></li><li><a href=#add-dependencies-to-the-vue-project>Add dependencies to the vue project</a></li><li><a href=#create-a-firebase-project>Create a Firebase project</a></li><li><a href=#create-vue-components>Create Vue Components</a></li><li><a href=#add-state-management>Add State Management</a></li><li><a href=#add-routes>Add Routes</a></li><li><a href=#add-authentication>Add Authentication</a></li></ul></li><li><a href=#summary>Summary</a></li></ul></nav></div></details>
<div class=content-margin>
<article class=line-numbers>
<h2 id=introduction>Introduction</h2><p>Firebase provides a SDK to easily integrate the auth service into our web app.</p><p>The user credentials are collected using the web app. The credentials are sent to firebase via SDK. Firebase takes care of storing the user information on registration and authentication.</p><h2 id=goals>Goals</h2><ol>
<li>We want to implement an vue app with authentication.
<ol>
<li>User should be able to view only some sections our web app without authentication.</li><li>If an unauthenticated user tries to view app sections which require authentication he will be redirected to the login page.</li></ol></li></ol><h2 id=design>Design</h2><p><figure><img src=vue-firebase-routes.png><figcaption>
<h4>Route Structure</h4></figcaption></figure>We will setup three <strong>routes</strong> to <strong>component</strong> mapping</p><ol>
<li><code>/login</code> => Renders <code>&lt;/figure></code></li><li><code>/register</code> => Renders <code>&lt;/Register></code></li><li><code>/</code> => Renders <code>&lt;/Dashboard></code> or <code>&lt;Landing/></code></li></ol><p>User can access <code>&lt;Dashboard/></code> only after authentication.<br>
Without authentication <code>/</code> will render <code>&lt;Landing/></code> component. With authentication <code>/</code> will render <code>&lt;Dashboard/></code> component.</p><h2 id=implementation>Implementation</h2><h3 id=prepare-the-environment>Prepare the Environment</h3><ol>
<li>Install <a href=https://nodejs.org/en/download/>Node</a></li></ol><ol start=2>
<li>Install <a href=https://classic.yarnpkg.com/en/>yarn</a> by running</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>npm install --global yarn
</span></span></code></pre></div><h3 id=create-a-vue-project>Create a Vue project</h3><p>We can create a fresh <code>Vite</code>+<code>Vue</code> project by running</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>yarn create vite vue-firebase --template vue
</span></span></code></pre></div><p>The newly created project directory structure.</p><pre tabindex=0><code>├── README.md
├── index.html
├── package.json
├── public
│   └── favicon.ico
├── src
│   ├── App.vue
│   ├── assets
│   │   └── logo.png
│   ├── components
│   │   └── HelloWorld.vue
│   └── main.js
└── vite.config.js
</code></pre><h3 id=add-dependencies-to-the-vue-project>Add dependencies to the vue project</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>yarn add -D firebase vue-router vuex
</span></span></code></pre></div><h3 id=create-a-firebase-project>Create a Firebase project</h3><p>To link our web app with firebase we need some configuration values which will be provided by firebase.</p><p>To generate the configuration values we need to add an web app to the project by clicking on the following button.</p><p>Once the web app is created we will have the following configuration available to us.</p><p>To connect connect firebase to our newly create vue project we will create a <code>firebase.js</code> file in src with following code.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Import the functions you need from the SDKs you need
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>initializeApp</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;firebase/app&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>getAuth</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;firebase/auth&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Your web app&#39;s Firebase configuration
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>firebaseConfig</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>apiKey</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;AIzaSyByKiW6zSrOYnMpyE2Xsrzt8UOBrbYNICI&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>authDomain</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;vue-firebase-80473.firebaseapp.com&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>projectId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;vue-firebase-80473&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>storageBucket</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;vue-firebase-80473.appspot.com&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>messagingSenderId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;713551225442&#34;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>appId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;1:713551225442:web:2510467f20a8bd3967673b&#34;</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Initialize Firebase
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>initializeApp</span>(<span style=color:#a6e22e>firebaseConfig</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>auth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getAuth</span>(<span style=color:#a6e22e>app</span>);
</span></span></code></pre></div><p>The main objective of <code>firebase.js</code> fire is to export the <code>auth</code> object which will be used for authentication.</p><h3 id=create-vue-components>Create Vue Components</h3><p><code>Landing.vue</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>h1</span>&gt; <span style=color:#a6e22e>Welcome</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>landing</span> <span style=color:#a6e22e>page</span><span style=color:#f92672>!</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;
</span></span></code></pre></div><p><code>Dashboard.vue</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>h1</span>&gt; <span style=color:#a6e22e>Welcome</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>your</span> <span style=color:#a6e22e>dashboard</span><span style=color:#f92672>!</span>&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;
</span></span></code></pre></div><p><code>Login.vue</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>data</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>password</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>methods</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>onLogin</span>(<span style=color:#a6e22e>e</span>) {
</span></span><span style=display:flex><span>			<span style=color:#75715e>// prevent default behavior
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>// login code
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;login-form&#34;</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>form</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Email address&#34;</span> <span style=color:#a6e22e>required</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;password&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;password&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;password&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Password&#34;</span> <span style=color:#a6e22e>required</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#f92672>@click</span><span style=color:#e6db74>=&#34;onLogin($event)&#34;</span> <span style=color:#f92672>:aria-busy</span><span style=color:#e6db74>=&#34;isAuthenticating&#34;</span> <span style=color:#f92672>:</span><span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{secondary: isAuthenticating}&#34;</span>&gt;<span style=color:#a6e22e>Login</span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>	&lt;/<span style=color:#f92672>form</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>router-link</span> <span style=color:#a6e22e>to</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/register&#34;</span> <span style=color:#f92672>:aria-disabled</span><span style=color:#e6db74>=&#34;isAuthenticating&#34;</span>&gt;<span style=color:#a6e22e>Register</span><span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/router-link&gt;</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;
</span></span></code></pre></div><p><code>Register.vue</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>data</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>password</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>registering</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>methods</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>onRegister</span>(<span style=color:#a6e22e>e</span>) {
</span></span><span style=display:flex><span>			<span style=color:#75715e>// prevent default behavior
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>			<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			<span style=color:#75715e>// register code
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;register-form&#34;</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>form</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;username&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;username&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;username&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Username&#34;</span> <span style=color:#a6e22e>required</span> <span style=color:#f92672>v-model</span><span style=color:#e6db74>=&#34;username&#34;</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Email address&#34;</span> <span style=color:#a6e22e>required</span> <span style=color:#f92672>v-model</span><span style=color:#e6db74>=&#34;email&#34; &gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		&lt;input type=&#34;password&#34; id=&#34;password&#34; name=&#34;password&#34; placeholder=&#34;Password&#34; required v-model=&#34;password&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		&lt;button type=&#34;submit&#34; @click=&#34;onRegister($event)&#34; :aria-busy=&#34;registering&#34; :class=&#34;{secondary: registering}&#34;&gt;Register&lt;/button&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	&lt;/form&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	&lt;router-link to=&#34;/login&#34; :aria-disabled=&#34;registering&#34;</span>&gt;<span style=color:#a6e22e>Login</span><span style=color:#960050;background-color:#1e0010>&lt;/</span><span style=color:#a6e22e>router</span><span style=color:#f92672>-link</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;
</span></span></code></pre></div><h3 id=add-state-management>Add State Management</h3><p>We are using <a href=https://vuex.vuejs.org/>vuex</a> for state management.<br>
To setup the vuex store we put the following code in <code>store.js</code>.</p><p><code>store.js</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>createStore</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vuex&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Create a new store instance.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>store</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createStore</span>({
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>state</span>() {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>user</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>authState</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Unknown&#39;</span> <span style=color:#75715e>// Unknown, Authenticating, Authenticated
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		}
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>getters</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>user</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>user</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>isAuthenticated</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>authState</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;Authenticated&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!!</span><span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>user</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>isAuthenticating</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#f92672>!!</span><span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>authState</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;Authenticating&#39;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>authState</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>authState</span>,
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>mutations</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>SET_USER</span>(<span style=color:#a6e22e>state</span>, { <span style=color:#a6e22e>user</span> }) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>user</span>;
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>SET_AUTH_STATE</span>(<span style=color:#a6e22e>state</span>, { <span style=color:#a6e22e>authState</span> }) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>authState</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>authState</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>actions</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>setUser</span>({ <span style=color:#a6e22e>commit</span> }, { <span style=color:#a6e22e>user</span> }) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>commit</span>(<span style=color:#e6db74>&#39;SET_USER&#39;</span>, { <span style=color:#a6e22e>user</span> })
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>setAuthState</span>({ <span style=color:#a6e22e>commit</span> }, { <span style=color:#a6e22e>authState</span> }) {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>commit</span>(<span style=color:#e6db74>&#39;SET_AUTH_STATE&#39;</span>, { <span style=color:#a6e22e>authState</span> })
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>store</span>;
</span></span></code></pre></div><p>Next we update the <code>main.js</code> as follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createApp</span>(<span style=color:#a6e22e>App</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>store</span>); <span style=color:#75715e>// this is added
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>mount</span>(<span style=color:#e6db74>&#39;#app&#39;</span>);
</span></span></code></pre></div><h3 id=add-routes>Add Routes</h3><p>We are using <a href=https://router.vuejs.org/>vue-router</a> for route management.
To create a mapping of <code>url path => Vue component</code> using vue-router we create a <code>routes.js</code>.</p><p><code>routes.js</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>createRouter</span>, <span style=color:#a6e22e>createWebHistory</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue-router&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Dashboard</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./components/Dashboard.vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Login</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./components/Login.vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Register</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./components/Register.vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Landing</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./components/Landing.vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>store</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./store&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRouter</span>({
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>history</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>createWebHistory</span>(),
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>routes</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Main&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex><span>				<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>store</span>.<span style=color:#a6e22e>state</span>.<span style=color:#a6e22e>authState</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;Authenticated&#39;</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>Dashboard</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>Landing</span>;
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/login&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Login&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Login</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/register&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Register&#39;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Register</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	]
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>Here we can directly access <code>authState</code> from store to check if the user is already authenticated and render appropriate component.</p><p>To connect the router with the app we update the <code>main.js</code> as follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createApp</span>(<span style=color:#a6e22e>App</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>store</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>router</span>); <span style=color:#75715e>// this is added
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>mount</span>(<span style=color:#e6db74>&#39;#app&#39;</span>)
</span></span></code></pre></div><h3 id=add-authentication>Add Authentication</h3><h4 id=1-route-management>1. Route management</h4><h4 id=2-state-management>2. State management</h4><h2 id=summary>Summary</h2></article></div></div></main></body></html>